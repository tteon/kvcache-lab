{"timestamp": 1771118654931026, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nMarie Curie was a physicist and chemist who conducted pioneering research on radioactivity. She was the first woman to win a Nobel Prize.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Marie Curie\", \"entity_type_id\": 0}, {\"name\": \"Nobel Prize\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118656321947, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        Marie Curie was a physicist and chemist who conducted pioneering research on radioactivity. She was the first woman to win a Nobel Prize.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Marie Curie\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"Nobel Prize\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 2 entities with IDs 0 through 1.\n        Your response MUST include EXACTLY 2 resolutions with IDs 0 through 1. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Marie Curie\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"Nobel Prize\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118659180399, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nMarie Curie was a physicist and chemist who conducted pioneering research on radioactivity. She was the first woman to win a Nobel Prize.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Marie Curie\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"Nobel Prize\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:24:13.343910+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"WINNED\", \"fact\": \"Marie Curie was the first woman to win a Nobel Prize.\", \"valid_at\": \"2026-02-15T01:24:13.343910Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 0, \"relation_type\": \"CONDUCTED_RESEARCH_ON\", \"fact\": \"Marie Curie conducted pioneering research on radioactivity.\", \"valid_at\": \"2026-02-15T01:24:13.343910Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118660518122, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Marie Curie was a physicist and chemist who conducted pioneering research on radioactivity. She was the first woman to win a Nobel Prize.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Nobel Prize', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Marie Curie was the first woman to win a Nobel Prize for her pioneering research on radioactivity in physics and chemistry.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118660559532, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Marie Curie was a physicist and chemist who conducted pioneering research on radioactivity. She was the first woman to win a Nobel Prize.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Marie Curie', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Marie Curie was a physicist and chemist known for her pioneering research on radioactivity. She was the first woman to win a Nobel Prize.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118662333219, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nAlbert Einstein developed the theory of general relativity, one of the two pillars of modern physics. He was born in Ulm, Germany in 1879.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Albert Einstein\", \"entity_type_id\": 0}, {\"name\": \"theory of general relativity\", \"entity_type_id\": 0}, {\"name\": \"modern physics\", \"entity_type_id\": 0}, {\"name\": \"Ulm, Germany\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118664657096, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        Albert Einstein developed the theory of general relativity, one of the two pillars of modern physics. He was born in Ulm, Germany in 1879.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Albert Einstein\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"theory of general relativity\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 2, \"name\": \"modern physics\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 3, \"name\": \"Ulm, Germany\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 4 entities with IDs 0 through 3.\n        Your response MUST include EXACTLY 4 resolutions with IDs 0 through 3. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Albert Einstein\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"theory of general relativity\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 2, \"name\": \"modern physics\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 3, \"name\": \"Ulm, Germany\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118668752539, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nAlbert Einstein developed the theory of general relativity, one of the two pillars of modern physics. He was born in Ulm, Germany in 1879.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Albert Einstein\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"theory of general relativity\", \"entity_types\": [\"Entity\"]}, {\"id\": 2, \"name\": \"modern physics\", \"entity_types\": [\"Entity\"]}, {\"id\": 3, \"name\": \"Ulm, Germany\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:24:20.648817+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"DEVELOPED\", \"fact\": \"Albert Einstein developed the theory of general relativity.\", \"valid_at\": \"2026-02-15T01:24:20.648817Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 3, \"relation_type\": \"BORN_IN\", \"fact\": \"Albert Einstein was born in Ulm, Germany.\", \"valid_at\": \"2026-02-15T01:24:20.648817Z\", \"invalid_at\": \"1879-01-01T00:00:00Z\"}, {\"source_entity_id\": 1, \"target_entity_id\": 2, \"relation_type\": \"IS_A_PILLAR_OF\", \"fact\": \"The theory of general relativity is one of the two pillars of modern physics.\", \"valid_at\": \"2026-02-15T01:24:20.648817Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118669535191, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Albert Einstein developed the theory of general relativity, one of the two pillars of modern physics. He was born in Ulm, Germany in 1879.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'theory of general relativity', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The theory of general relativity, developed by Albert Einstein, is one of the two pillars of modern physics.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118669584756, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Albert Einstein developed the theory of general relativity, one of the two pillars of modern physics. He was born in Ulm, Germany in 1879.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Ulm, Germany', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Ulm, Germany is known as the birthplace of Albert Einstein, who developed the theory of general relativity in 1879.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118669684771, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Albert Einstein developed the theory of general relativity, one of the two pillars of modern physics. He was born in Ulm, Germany in 1879.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'modern physics', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Modern physics is primarily based on the theory of general relativity developed by Albert Einstein, who was born in Ulm, Germany in 1879.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118670647736, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Albert Einstein developed the theory of general relativity, one of the two pillars of modern physics. He was born in Ulm, Germany in 1879.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Albert Einstein', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Albert Einstein, born in Ulm, Germany in 1879, developed the theory of general relativity, which is a key foundation of modern physics.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118671704478, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nThe Python programming language was created by Guido van Rossum and first released in 1991. It emphasizes code readability.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Guido van Rossum\", \"entity_type_id\": 0}, {\"name\": \"Python programming language\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118673109354, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        The Python programming language was created by Guido van Rossum and first released in 1991. It emphasizes code readability.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Guido van Rossum\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"Python programming language\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 2 entities with IDs 0 through 1.\n        Your response MUST include EXACTLY 2 resolutions with IDs 0 through 1. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Guido van Rossum\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"Python programming language\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118674525148, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nThe Python programming language was created by Guido van Rossum and first released in 1991. It emphasizes code readability.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Guido van Rossum\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"Python programming language\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:24:30.738521+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"CREATED\", \"fact\": \"Guido van Rossum created the Python programming language.\", \"valid_at\": \"1991-01-01T00:00:00Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118675343150, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Python programming language was created by Guido van Rossum and first released in 1991. It emphasizes code readability.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Guido van Rossum', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Guido van Rossum created the Python programming language, which was first released in 1991 and emphasizes code readability.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118675380787, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Python programming language was created by Guido van Rossum and first released in 1991. It emphasizes code readability.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Python programming language', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Python programming language, created by Guido van Rossum, was first released in 1991 and emphasizes code readability.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118677024878, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nTesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Tesla Inc.\", \"entity_type_id\": 0}, {\"name\": \"Martin Eberhard\", \"entity_type_id\": 0}, {\"name\": \"Marc Tarpenning\", \"entity_type_id\": 0}, {\"name\": \"Elon Musk\", \"entity_type_id\": 0}, {\"name\": \"Austin, Texas\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118680087223, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        Tesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Tesla Inc.\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"Martin Eberhard\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 2, \"name\": \"Marc Tarpenning\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 3, \"name\": \"Elon Musk\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 4, \"name\": \"Austin, Texas\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 5 entities with IDs 0 through 4.\n        Your response MUST include EXACTLY 5 resolutions with IDs 0 through 4. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Tesla Inc.\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"Martin Eberhard\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 2, \"name\": \"Marc Tarpenning\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 3, \"name\": \"Elon Musk\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 4, \"name\": \"Austin, Texas\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 5, \"name\": \"Austin, Texas\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118683891169, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nTesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Tesla Inc.\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"Martin Eberhard\", \"entity_types\": [\"Entity\"]}, {\"id\": 2, \"name\": \"Marc Tarpenning\", \"entity_types\": [\"Entity\"]}, {\"id\": 3, \"name\": \"Elon Musk\", \"entity_types\": [\"Entity\"]}, {\"id\": 4, \"name\": \"Austin, Texas\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:24:35.430491+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"FOUNDED\", \"fact\": \"Tesla Inc. was founded by Martin Eberhard.\", \"valid_at\": \"2003-01-01T00:00:00Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 2, \"relation_type\": \"FOUNDED\", \"fact\": \"Tesla Inc. was founded by Marc Tarpenning.\", \"valid_at\": \"2003-01-01T00:00:00Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 4, \"relation_type\": \"LOCATED_IN\", \"fact\": \"Tesla Inc. is headquartered in Austin, Texas.\", \"valid_at\": \"2026-02-15T01:24:35.430491Z\", \"invalid_at\": null}, {\"source_entity_id\": 3, \"target_entity_id\": 0, \"relation_type\": \"JOINED_AS_CHAIRMAN\", \"fact\": \"Elon Musk joined Tesla Inc. as chairman in 2004.\", \"valid_at\": \"2004-01-01T00:00:00Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118684692442, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Tesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Martin Eberhard', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Martin Eberhard is a co-founder of Tesla Inc., which is headquartered in Austin, Texas. He was instrumental in the company's early development.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118684744970, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Tesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Tesla Inc.', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Tesla Inc. is headquartered in Austin, Texas, and was founded by Martin Eberhard and Marc Tarpenning. Elon Musk joined as chairman in 2004.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118684750153, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Tesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Austin, Texas', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Austin, Texas is the headquarters of Tesla Inc., founded by Martin Eberhard and Marc Tarpenning. Elon Musk joined as chairman in 2004.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118684820333, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Tesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Elon Musk', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Elon Musk joined Tesla Inc. as chairman in 2004. Tesla, founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118684859916, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Tesla Inc., founded by Martin Eberhard and Marc Tarpenning, is headquartered in Austin, Texas. Elon Musk joined as chairman in 2004.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Marc Tarpenning', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Marc Tarpenning co-founded Tesla Inc. and served as a key figure in its development. The company is headquartered in Austin, Texas, with Elon Musk joining as chairman in 2004.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118685787769, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nThe Great Wall of China stretches over 13,000 miles and was built over many centuries starting from the 7th century BC.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"The Great Wall of China\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118687619806, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        The Great Wall of China stretches over 13,000 miles and was built over many centuries starting from the 7th century BC.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"The Great Wall of China\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 1 entities with IDs 0 through 0.\n        Your response MUST include EXACTLY 1 resolutions with IDs 0 through 0. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"The Great Wall of China\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118688686350, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Great Wall of China stretches over 13,000 miles and was built over many centuries starting from the 7th century BC.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'The Great Wall of China', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Great Wall of China stretches over 13,000 miles and was built over many centuries, starting from the 7th century BC.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118689927816, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nAda Lovelace is often regarded as the first computer programmer. She worked with Charles Babbage on the Analytical Engine.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Ada Lovelace\", \"entity_type_id\": 0}, {\"name\": \"Charles Babbage\", \"entity_type_id\": 0}, {\"name\": \"Analytical Engine\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118691579374, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        Ada Lovelace is often regarded as the first computer programmer. She worked with Charles Babbage on the Analytical Engine.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Ada Lovelace\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"Charles Babbage\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 2, \"name\": \"Analytical Engine\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 3 entities with IDs 0 through 2.\n        Your response MUST include EXACTLY 3 resolutions with IDs 0 through 2. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Ada Lovelace\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"Charles Babbage\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 2, \"name\": \"Analytical Engine\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118695157556, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nAda Lovelace is often regarded as the first computer programmer. She worked with Charles Babbage on the Analytical Engine.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Ada Lovelace\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"Charles Babbage\", \"entity_types\": [\"Entity\"]}, {\"id\": 2, \"name\": \"Analytical Engine\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:24:48.776122+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"COLLABORATED_WITH\", \"fact\": \"Ada Lovelace collaborated with Charles Babbage on the Analytical Engine.\", \"valid_at\": \"2026-02-15T01:24:48.776122Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 2, \"relation_type\": \"IS_REGARDED_AS\", \"fact\": \"Ada Lovelace is often regarded as the first computer programmer.\", \"valid_at\": \"2026-02-15T01:24:48.776122Z\", \"invalid_at\": null}, {\"source_entity_id\": 1, \"target_entity_id\": 2, \"relation_type\": \"WORKED_ON\", \"fact\": \"Charles Babbage worked on the Analytical Engine with Ada Lovelace.\", \"valid_at\": \"2026-02-15T01:24:48.776122Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118695998098, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Ada Lovelace is often regarded as the first computer programmer. She worked with Charles Babbage on the Analytical Engine.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Charles Babbage', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Charles Babbage collaborated with Ada Lovelace, who is recognized as the first computer programmer, on the design of the Analytical Engine.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118696013511, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Ada Lovelace is often regarded as the first computer programmer. She worked with Charles Babbage on the Analytical Engine.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Analytical Engine', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Analytical Engine, designed by Charles Babbage, is a pioneering mechanical computer with contributions from Ada Lovelace, acknowledged as the first computer programmer.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118696200723, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Ada Lovelace is often regarded as the first computer programmer. She worked with Charles Babbage on the Analytical Engine.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Ada Lovelace', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Ada Lovelace is regarded as the first computer programmer, having worked with Charles Babbage on the Analytical Engine.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118697587228, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nThe Amazon River is the largest river by volume of water flow in the world. It flows through Brazil, Peru, and Colombia.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Amazon River\", \"entity_type_id\": 0}, {\"name\": \"Brazil\", \"entity_type_id\": 0}, {\"name\": \"Peru\", \"entity_type_id\": 0}, {\"name\": \"Colombia\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118698992953, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        The Amazon River is the largest river by volume of water flow in the world. It flows through Brazil, Peru, and Colombia.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Amazon River\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"Brazil\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 2, \"name\": \"Peru\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 3, \"name\": \"Colombia\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 4 entities with IDs 0 through 3.\n        Your response MUST include EXACTLY 4 resolutions with IDs 0 through 3. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Amazon River\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"Brazil\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 2, \"name\": \"Peru\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 3, \"name\": \"Colombia\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118703205250, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nThe Amazon River is the largest river by volume of water flow in the world. It flows through Brazil, Peru, and Colombia.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Amazon River\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"Brazil\", \"entity_types\": [\"Entity\"]}, {\"id\": 2, \"name\": \"Peru\", \"entity_types\": [\"Entity\"]}, {\"id\": 3, \"name\": \"Colombia\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:24:56.244328+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"FLOWS_THROUGH\", \"fact\": \"The Amazon River flows through Brazil.\", \"valid_at\": \"2026-02-15T01:24:56.244328Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 2, \"relation_type\": \"FLOWS_THROUGH\", \"fact\": \"The Amazon River flows through Peru.\", \"valid_at\": \"2026-02-15T01:24:56.244328Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 3, \"relation_type\": \"FLOWS_THROUGH\", \"fact\": \"The Amazon River flows through Colombia.\", \"valid_at\": \"2026-02-15T01:24:56.244328Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 0, \"relation_type\": \"LARGEST_RIVER_BY_VOLUME\", \"fact\": \"The Amazon River is the largest river by volume of water flow in the world.\", \"valid_at\": \"2026-02-15T01:24:56.244328Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118704012914, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Amazon River is the largest river by volume of water flow in the world. It flows through Brazil, Peru, and Colombia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Amazon River', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Amazon River is the largest river by volume of water flow in the world, flowing through Brazil, Peru, and Colombia.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118704061548, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Amazon River is the largest river by volume of water flow in the world. It flows through Brazil, Peru, and Colombia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Colombia', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Colombia is one of the countries through which the Amazon River flows, the largest river by volume of water flow in the world.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118704079561, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Amazon River is the largest river by volume of water flow in the world. It flows through Brazil, Peru, and Colombia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Peru', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Amazon River flows through Peru, as well as Brazil and Colombia, and is the largest river by volume of water flow in the world.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118704160939, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Amazon River is the largest river by volume of water flow in the world. It flows through Brazil, Peru, and Colombia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Brazil', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Amazon River, the largest by water flow, flows through Brazil, Peru, and Colombia.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118705148301, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nAlan Turing proposed the concept of the Turing machine in 1936, which became the foundation of modern computer science.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Alan Turing\", \"entity_type_id\": 0}, {\"name\": \"Turing machine\", \"entity_type_id\": 0}, {\"name\": \"modern computer science\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118706710169, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        Alan Turing proposed the concept of the Turing machine in 1936, which became the foundation of modern computer science.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Alan Turing\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"Turing machine\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 2, \"name\": \"modern computer science\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 3 entities with IDs 0 through 2.\n        Your response MUST include EXACTLY 3 resolutions with IDs 0 through 2. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Alan Turing\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"Turing machine\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 2, \"name\": \"modern computer science\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118709130236, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nAlan Turing proposed the concept of the Turing machine in 1936, which became the foundation of modern computer science.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Alan Turing\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"Turing machine\", \"entity_types\": [\"Entity\"]}, {\"id\": 2, \"name\": \"modern computer science\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:25:04.183270+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"PROPOSED\", \"fact\": \"Alan Turing proposed the concept of the Turing machine.\", \"valid_at\": \"1936-01-01T00:00:00Z\", \"invalid_at\": null}, {\"source_entity_id\": 1, \"target_entity_id\": 2, \"relation_type\": \"FOUNDATION_OF\", \"fact\": \"The Turing machine became the foundation of modern computer science.\", \"valid_at\": \"1936-01-01T00:00:00Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118709913743, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Alan Turing proposed the concept of the Turing machine in 1936, which became the foundation of modern computer science.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Turing machine', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Turing machine, proposed by Alan Turing in 1936, is a foundational concept in modern computer science.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118709926898, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Alan Turing proposed the concept of the Turing machine in 1936, which became the foundation of modern computer science.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'modern computer science', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The concept of the Turing machine, proposed by Alan Turing in 1936, is foundational to modern computer science.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118709931833, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"Alan Turing proposed the concept of the Turing machine in 1936, which became the foundation of modern computer science.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Alan Turing', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Alan Turing proposed the concept of the Turing machine in 1936, which became the foundation of modern computer science.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118711267195, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nSpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"Elon Musk\", \"entity_type_id\": 0}, {\"name\": \"SpaceX\", \"entity_type_id\": 0}, {\"name\": \"Falcon 9\", \"entity_type_id\": 0}, {\"name\": \"Dragon spacecraft\", \"entity_type_id\": 0}, {\"name\": \"NASA\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118713872166, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        SpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"Elon Musk\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"SpaceX\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 2, \"name\": \"Falcon 9\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 3, \"name\": \"Dragon spacecraft\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 4, \"name\": \"NASA\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 5 entities with IDs 0 through 4.\n        Your response MUST include EXACTLY 5 resolutions with IDs 0 through 4. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"Elon Musk\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"SpaceX\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 2, \"name\": \"Falcon 9\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 3, \"name\": \"Dragon spacecraft\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 4, \"name\": \"NASA\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118718576589, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nSpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"Elon Musk\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"SpaceX\", \"entity_types\": [\"Entity\"]}, {\"id\": 2, \"name\": \"Falcon 9\", \"entity_types\": [\"Entity\"]}, {\"id\": 3, \"name\": \"Dragon spacecraft\", \"entity_types\": [\"Entity\"]}, {\"id\": 4, \"name\": \"NASA\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:25:09.975345+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 1, \"target_entity_id\": 0, \"relation_type\": \"FOUNDED\", \"fact\": \"SpaceX was founded by Elon Musk.\", \"valid_at\": \"2002-01-01T00:00:00Z\", \"invalid_at\": null}, {\"source_entity_id\": 1, \"target_entity_id\": 2, \"relation_type\": \"DEVELOPED\", \"fact\": \"SpaceX developed the Falcon 9 rocket.\", \"valid_at\": \"2026-02-15T01:25:09.975345Z\", \"invalid_at\": null}, {\"source_entity_id\": 1, \"target_entity_id\": 3, \"relation_type\": \"DEVELOPED\", \"fact\": \"SpaceX developed the Dragon spacecraft.\", \"valid_at\": \"2026-02-15T01:25:09.975345Z\", \"invalid_at\": null}, {\"source_entity_id\": 3, \"target_entity_id\": 4, \"relation_type\": \"USED_BY\", \"fact\": \"The Dragon spacecraft is used for NASA missions.\", \"valid_at\": \"2026-02-15T01:25:09.975345Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118719478875, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"SpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Falcon 9', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Falcon 9, developed by SpaceX founded by Elon Musk in 2002, was designed for NASA missions.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118719485788, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"SpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Elon Musk', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Elon Musk founded SpaceX in 2002, which developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118719539294, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"SpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Dragon spacecraft', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Dragon spacecraft, developed by SpaceX, is used for NASA missions. It was created by SpaceX, founded by Elon Musk in 2002.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118719579089, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"SpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'SpaceX', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"SpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118719582177, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"SpaceX, founded by Elon Musk in 2002, developed the Falcon 9 rocket and the Dragon spacecraft for NASA missions.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'NASA', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"NASA collaborated with SpaceX, which was founded by Elon Musk in 2002, to utilize the Falcon 9 rocket and the Dragon spacecraft for its missions.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118721508096, "input": "system: You are an AI assistant that extracts entity nodes from conversational messages. \n    Your primary task is to extract and classify the speaker and other significant entities mentioned in the conversation.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<ENTITY TYPES>\n[{'entity_type_id': 0, 'entity_type_name': 'Entity', 'entity_type_description': 'Default entity classification. Use this entity type if the entity is not one of the other listed types.'}]\n</ENTITY TYPES>\n\n<PREVIOUS MESSAGES>\n[]\n</PREVIOUS MESSAGES>\n\n<CURRENT MESSAGE>\nThe Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\n</CURRENT MESSAGE>\n\nInstructions:\n\nYou are given a conversation context and a CURRENT MESSAGE. Your task is to extract **entity nodes** mentioned **explicitly or implicitly** in the CURRENT MESSAGE.\nPronoun references such as he/she/they or this/that/those should be disambiguated to the names of the \nreference entities. Only extract distinct entities from the CURRENT MESSAGE. Don't extract pronouns like you, me, he/she/they, we/us as entities.\n\n1. **Speaker Extraction**: Always extract the speaker (the part before the colon `:` in each dialogue line) as the first entity node.\n   - If the speaker is mentioned again in the message, treat both mentions as a **single entity**.\n\n2. **Entity Identification**:\n   - Extract all significant entities, concepts, or actors that are **explicitly or implicitly** mentioned in the CURRENT MESSAGE.\n   - **Exclude** entities mentioned only in the PREVIOUS MESSAGES (they are for context only).\n\n3. **Entity Classification**:\n   - Use the descriptions in ENTITY TYPES to classify each extracted entity.\n   - Assign the appropriate `entity_type_id` for each one.\n\n4. **Exclusions**:\n   - Do NOT extract entities representing relationships or actions.\n   - Do NOT extract dates, times, or other temporal information\u2014these will be handled separately.\n\n5. **Formatting**:\n   - Be **explicit and unambiguous** in naming entities (e.g., use full names when available).\n\n\n", "output": "{\"extracted_entities\": [{\"name\": \"The Mediterranean Sea\", \"entity_type_id\": 0}, {\"name\": \"the Atlantic Ocean\", \"entity_type_id\": 0}, {\"name\": \"the Strait of Gibraltar\", \"entity_type_id\": 0}, {\"name\": \"Europe\", \"entity_type_id\": 0}, {\"name\": \"Africa\", \"entity_type_id\": 0}, {\"name\": \"Asia\", \"entity_type_id\": 0}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118723952585, "input": "system: You are a helpful assistant that determines whether or not ENTITIES extracted from a conversation are duplicates of existing entities.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        <PREVIOUS MESSAGES>\n        []\n        </PREVIOUS MESSAGES>\n        <CURRENT MESSAGE>\n        The Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\n        </CURRENT MESSAGE>\n\n\n        Each of the following ENTITIES were extracted from the CURRENT MESSAGE.\n        Each entity in ENTITIES is represented as a JSON object with the following structure:\n        {\n            id: integer id of the entity,\n            name: \"name of the entity\",\n            entity_type: [\"Entity\", \"<optional additional label>\", ...],\n            entity_type_description: \"Description of what the entity type represents\"\n        }\n\n        <ENTITIES>\n        [{\"id\": 0, \"name\": \"The Mediterranean Sea\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 1, \"name\": \"the Atlantic Ocean\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 2, \"name\": \"the Strait of Gibraltar\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 3, \"name\": \"Europe\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 4, \"name\": \"Africa\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}, {\"id\": 5, \"name\": \"Asia\", \"entity_type\": [\"Entity\"], \"entity_type_description\": \"Default Entity Type\"}]\n        </ENTITIES>\n\n        <EXISTING ENTITIES>\n        []\n        </EXISTING ENTITIES>\n\n        Each entry in EXISTING ENTITIES is an object with the following structure:\n        {\n            idx: integer index of the candidate entity (use this when referencing a duplicate),\n            name: \"name of the candidate entity\",\n            entity_types: [\"Entity\", \"<optional additional label>\", ...],\n            ...<additional attributes such as summaries or metadata>\n        }\n\n        For each of the above ENTITIES, determine if the entity is a duplicate of any of the EXISTING ENTITIES.\n\n        Entities should only be considered duplicates if they refer to the *same real-world object or concept*.\n\n        Do NOT mark entities as duplicates if:\n        - They are related but distinct.\n        - They have similar names or purposes but refer to separate instances or concepts.\n\n        Task:\n        ENTITIES contains 6 entities with IDs 0 through 5.\n        Your response MUST include EXACTLY 6 resolutions with IDs 0 through 5. Do not skip or add IDs.\n\n        For every entity, return an object with the following keys:\n        {\n            \"id\": integer id from ENTITIES,\n            \"name\": the best full name for the entity (preserve the original name unless a duplicate has a more complete name),\n            \"duplicate_idx\": the idx of the EXISTING ENTITY that is the best duplicate match, or -1 if there is no duplicate,\n            \"duplicates\": a sorted list of all idx values from EXISTING ENTITIES that refer to duplicates (deduplicate the list, use [] when none or unsure)\n        }\n\n        - Only use idx values that appear in EXISTING ENTITIES.\n        - Set duplicate_idx to the smallest idx you collected for that entity, or -1 if duplicates is empty.\n        - Never fabricate entities or indices.\n        ", "output": "{\"entity_resolutions\": [{\"id\": 0, \"name\": \"The Mediterranean Sea\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 1, \"name\": \"the Atlantic Ocean\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 2, \"name\": \"the Strait of Gibraltar\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 3, \"name\": \"Europe\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 4, \"name\": \"Africa\", \"duplicate_idx\": -1, \"duplicates\": []}, {\"id\": 5, \"name\": \"Asia\", \"duplicate_idx\": -1, \"duplicates\": []}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118730017521, "input": "system: You are an expert fact extractor that extracts fact triples from text. 1. Extracted fact triples should also be extracted with relevant date information.2. Treat the CURRENT TIME as the time the CURRENT MESSAGE was sent. All temporal information should be extracted relative to this time.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n<FACT TYPES>\n[]\n</FACT TYPES>\n\n<PREVIOUS_MESSAGES>\n[]\n</PREVIOUS_MESSAGES>\n\n<CURRENT_MESSAGE>\nThe Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\n</CURRENT_MESSAGE>\n\n<ENTITIES>\n[{\"id\": 0, \"name\": \"The Mediterranean Sea\", \"entity_types\": [\"Entity\"]}, {\"id\": 1, \"name\": \"the Atlantic Ocean\", \"entity_types\": [\"Entity\"]}, {\"id\": 2, \"name\": \"the Strait of Gibraltar\", \"entity_types\": [\"Entity\"]}, {\"id\": 3, \"name\": \"Europe\", \"entity_types\": [\"Entity\"]}, {\"id\": 4, \"name\": \"Africa\", \"entity_types\": [\"Entity\"]}, {\"id\": 5, \"name\": \"Asia\", \"entity_types\": [\"Entity\"]}]\n</ENTITIES>\n\n<REFERENCE_TIME>\n2026-02-15 01:25:19.614540+00:00  # ISO 8601 (UTC); used to resolve relative time mentions\n</REFERENCE_TIME>\n\n# TASK\nExtract all factual relationships between the given ENTITIES based on the CURRENT MESSAGE.\nOnly extract facts that:\n- involve two DISTINCT ENTITIES from the ENTITIES list,\n- are clearly stated or unambiguously implied in the CURRENT MESSAGE,\n    and can be represented as edges in a knowledge graph.\n- Facts should include entity names rather than pronouns whenever possible.\n- The FACT TYPES provide a list of the most important types of facts, make sure to extract facts of these types\n- The FACT TYPES are not an exhaustive list, extract all facts from the message even if they do not fit into one\n    of the FACT TYPES\n- The FACT TYPES each contain their fact_type_signature which represents the source and target entity types.\n\nYou may use information from the PREVIOUS MESSAGES only to disambiguate references or support continuity.\n\n\n\n\n# EXTRACTION RULES\n\n1. **Entity ID Validation**: `source_entity_id` and `target_entity_id` must use only the `id` values from the ENTITIES list provided above.\n   - **CRITICAL**: Using IDs not in the list will cause the edge to be rejected\n2. Each fact must involve two **distinct** entities.\n3. Use a SCREAMING_SNAKE_CASE string as the `relation_type` (e.g., FOUNDED, WORKS_AT).\n4. Do not emit duplicate or semantically redundant facts.\n5. The `fact` should closely paraphrase the original source sentence(s). Do not verbatim quote the original text.\n6. Use `REFERENCE_TIME` to resolve vague or relative temporal expressions (e.g., \"last week\").\n7. Do **not** hallucinate or infer temporal bounds from unrelated events.\n\n# DATETIME RULES\n\n- Use ISO 8601 with \u201cZ\u201d suffix (UTC) (e.g., 2025-04-30T00:00:00Z).\n- If the fact is ongoing (present tense), set `valid_at` to REFERENCE_TIME.\n- If a change/termination is expressed, set `invalid_at` to the relevant timestamp.\n- Leave both fields `null` if no explicit or resolvable time is stated.\n- If only a date is mentioned (no time), assume 00:00:00.\n- If only a year is mentioned, use January 1st at 00:00:00.\n        ", "output": "{\"edges\": [{\"source_entity_id\": 0, \"target_entity_id\": 1, \"relation_type\": \"CONNECTED_TO\", \"fact\": \"The Mediterranean Sea is connected to the Atlantic Ocean.\", \"valid_at\": \"2026-02-15T01:25:19.614540Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 2, \"relation_type\": \"BORDERING\", \"fact\": \"The Mediterranean Sea borders the Strait of Gibraltar.\", \"valid_at\": \"2026-02-15T01:25:19.614540Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 3, \"relation_type\": \"BORDERING\", \"fact\": \"The Mediterranean Sea borders Europe.\", \"valid_at\": \"2026-02-15T01:25:19.614540Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 4, \"relation_type\": \"BORDERING\", \"fact\": \"The Mediterranean Sea borders Africa.\", \"valid_at\": \"2026-02-15T01:25:19.614540Z\", \"invalid_at\": null}, {\"source_entity_id\": 0, \"target_entity_id\": 5, \"relation_type\": \"BORDERING\", \"fact\": \"The Mediterranean Sea borders Asia.\", \"valid_at\": \"2026-02-15T01:25:19.614540Z\", \"invalid_at\": null}]}", "session_id": "graphiti_graph"}
{"timestamp": 1771118730937025, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'the Strait of Gibraltar', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Strait of Gibraltar connects the Mediterranean Sea to the Atlantic Ocean, bordering Europe and Africa.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118730998308, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Europe', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Europe is bordered by the Mediterranean Sea, which connects to the Atlantic Ocean through the Strait of Gibraltar.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118731034347, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'The Mediterranean Sea', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Mediterranean Sea connects to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118731093146, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'the Atlantic Ocean', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Atlantic Ocean is connected to the Mediterranean Sea through the Strait of Gibraltar and borders multiple continents, specifically Europe, Africa, and Asia.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118731098704, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Africa', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"The Mediterranean Sea borders Africa, along with Europe and Asia, and is connected to the Atlantic Ocean via the Strait of Gibraltar.\"}", "session_id": "graphiti_graph"}
{"timestamp": 1771118731267892, "input": "system: You are a helpful assistant that extracts entity summaries from the provided text.\nDo not escape unicode characters.\n\n\nAny extracted information should be returned in the same language as it was written in. Only output non-English text when the user has written full sentences or phrases in that non-English language. Otherwise, output English.\nuser: \n        Given the MESSAGES and the ENTITY, update the summary that combines relevant information about the entity\n        from the messages and relevant information from the existing summary.\n\n        Guidelines:\n        1. Output only factual content. Never explain what you're doing, why, or mention limitations/constraints. \n        2. Only use the provided messages, entity, and entity context to set attribute values.\n        3. Keep the summary concise and to the point. STATE FACTS DIRECTLY IN UNDER 250 CHARACTERS.\n\n        Example summaries:\n        BAD: \"This is the only activity in the context. The user listened to this song. No other details were provided to include in this summary.\"\n        GOOD: \"User played 'Blue Monday' by New Order (electronic genre) on 2024-12-03 at 14:22 UTC.\"\n        BAD: \"Based on the messages provided, the user attended a meeting. This summary focuses on that event as it was the main topic discussed.\"\n        GOOD: \"User attended Q3 planning meeting with sales team on March 15.\"\n        BAD: \"The context shows John ordered pizza. Due to length constraints, other details are omitted from this summary.\"\n        GOOD: \"John ordered pepperoni pizza from Mario's at 7:30 PM, delivered to office.\"\n        \n\n        <MESSAGES>\n        []\n        \"The Mediterranean Sea is connected to the Atlantic Ocean through the Strait of Gibraltar and borders Europe, Africa, and Asia.\"\n        </MESSAGES>\n\n        <ENTITY>\n        {'name': 'Asia', 'summary': '', 'entity_types': ['Entity'], 'attributes': {}}\n        </ENTITY>\n        ", "output": "{\"summary\": \"Asia is bordered by the Mediterranean Sea, which connects to the Atlantic Ocean through the Strait of Gibraltar. It is one of the continents in proximity to Europe and Africa.\"}", "session_id": "graphiti_graph"}
